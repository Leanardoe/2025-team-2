@model ResumeSystem.Models.ResumeFilterViewModel
@{
    ViewData["Title"] = "Filter Resumes";
}
<section>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark-light">
        <div class="container" type="button" aria-controls="nav01" aria-expanded="false">
            <a class="navbar-brand" href="#">
                <img class="img-fluid" src="trizzle-assets/logos/trizzle-logo.svg" alt="" />
            </a>
            <div class="collapse navbar-collapse" id="nav01">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link px-4 d-flex align-items-center" aria-current="page" href="upload2.html">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="" viewbox="0 0 16 16">
                                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"></path>
                            </svg>
                            <span class="ms-2">Upload</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-4 d-flex align-items-center" aria-current="page" href="mass_upload2.html">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="" viewbox="0 0 16 16">
                                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"></path>
                            </svg>
                            <span class="ms-2">Mass Upload</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-4 d-flex align-items-center" aria-current="page" hre="" f="#" href="filtering.html">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="" viewbox="0 0 16 16">
                                <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"></path>
                                <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"></path>
                            </svg>
                            <span class="ms-2">Filtering</span>
                        </a>
                    </li>
                    <li class="nav-item"></li>
                    <li class="nav-item">
                        <a class="nav-link px-4 d-flex align-items-center" aria-current="page" hre="" f="#" href="sign_in.html">
                            <svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.3417 10.2333C12.8692 9.66683 13.1664 8.92394 13.1751 8.14996C13.1751 7.31453 12.8432 6.51331 12.2525 5.92257C11.6617 5.33183 10.8605 4.99996 10.0251 4.99996C9.18965 4.99996 8.38843 5.33183 7.7977 5.92257C7.20696 6.51331 6.87508 7.31453 6.87508 8.14996C6.88378 8.92394 7.18093 9.66683 7.70841 10.2333C6.97396 10.599 6.34193 11.1416 5.86918 11.8122C5.39642 12.4827 5.09777 13.2603 5.00008 14.075C4.97577 14.296 5.04025 14.5176 5.17934 14.6911C5.31843 14.8645 5.52073 14.9756 5.74175 15C5.96276 15.0243 6.18438 14.9598 6.35785 14.8207C6.53132 14.6816 6.64244 14.4793 6.66675 14.2583C6.76619 13.4509 7.15745 12.7078 7.76682 12.1688C8.37619 11.6299 9.16159 11.3324 9.97508 11.3324C10.7886 11.3324 11.574 11.6299 12.1833 12.1688C12.7927 12.7078 13.184 13.4509 13.2834 14.2583C13.3066 14.472 13.4114 14.6684 13.576 14.8066C13.7406 14.9448 13.9523 15.0141 14.1667 15H14.2584C14.4769 14.9748 14.6765 14.8644 14.8139 14.6927C14.9512 14.521 15.0152 14.3019 14.9917 14.0833C14.9013 13.2729 14.6121 12.4975 14.1498 11.8258C13.6875 11.1542 13.0664 10.6071 12.3417 10.2333ZM10.0001 9.63329C9.70671 9.63329 9.41992 9.5463 9.17598 9.38331C8.93205 9.22031 8.74193 8.98865 8.62966 8.71761C8.51739 8.44656 8.48801 8.14831 8.54525 7.86058C8.60248 7.57284 8.74376 7.30853 8.95121 7.10108C9.15865 6.89364 9.42296 6.75236 9.7107 6.69513C9.99844 6.63789 10.2967 6.66727 10.5677 6.77954C10.8388 6.89181 11.0704 7.08193 11.2334 7.32586C11.3964 7.5698 11.4834 7.85658 11.4834 8.14996C11.4834 8.54336 11.3271 8.92066 11.049 9.19883C10.7708 9.47701 10.3935 9.63329 10.0001 9.63329ZM15.8334 1.66663H4.16675C3.50371 1.66663 2.86782 1.93002 2.39898 2.39886C1.93014 2.8677 1.66675 3.50358 1.66675 4.16663V15.8333C1.66675 16.4963 1.93014 17.1322 2.39898 17.6011C2.86782 18.0699 3.50371 18.3333 4.16675 18.3333H15.8334C16.4965 18.3333 17.1323 18.0699 17.6012 17.6011C18.07 17.1322 18.3334 16.4963 18.3334 15.8333V4.16663C18.3334 3.50358 18.07 2.8677 17.6012 2.39886C17.1323 1.93002 16.4965 1.66663 15.8334 1.66663ZM16.6667 15.8333C16.6667 16.0543 16.579 16.2663 16.4227 16.4225C16.2664 16.5788 16.0544 16.6666 15.8334 16.6666H4.16675C3.94573 16.6666 3.73377 16.5788 3.57749 16.4225C3.42121 16.2663 3.33341 16.0543 3.33341 15.8333V4.16663C3.33341 3.94561 3.42121 3.73365 3.57749 3.57737C3.73377 3.42109 3.94573 3.33329 4.16675 3.33329H15.8334C16.0544 3.33329 16.2664 3.42109 16.4227 3.57737C16.579 3.73365 16.6667 3.94561 16.6667 4.16663V15.8333Z" fill="#3D485B"></path>
                            </svg>
                            <span class="ms-2">Sign Out</span>
                        </a>
                    </li>
                </ul>
                <div class="container mt-5">
                    <form asp-controller="FilterController"
                          asp-action="Index"
                          method="get"
                          class="row mb-4">

                        <div class="col-md-6">
                            <label asp-for="SelectedSkillID" class="form-label">
                                Skill
                            </label>
                            <select asp-for="SelectedSkillID"
                                    asp-items="Model.SkillOptions"
                                    class="form-select">
                                <option value="">-- All Skills --</option>
                            </select>
                        </div>

                        <div class="col-md-6 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary">
                                Apply Filter
                            </button>
                        </div>
                    </form>

                    <h4 class="mb-3">Filtered Resumes</h4>
                    @if (Model.Resumes?.Any() ?? false)
                    {
                        <ul class="list-group">
                            @foreach (var r in Model.Resumes)
                            {
                                <li class="list-group-item">
                                    <strong>@r.Candidate.CAN_NAME</strong>
                                    <span class="text-muted">
                                        (@r.Candidate.CAN_EMAIL)
                                    </span>
                                    <br />
                                    <a href="@r.RESUME_URL" target="_blank">
                                        View Resume
                                    </a>
                                </li>
                            }
                        </ul>
                    }
                    else
                    {
                        <p>No resumes match your selected skill.</p>
                    }
                </div>
